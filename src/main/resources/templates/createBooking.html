<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" lang="en">
<head>
    <meta charset="UTF-8">
    <title>NackaHotel - Create Booking</title>
</head>
<body>
<h1>Create Booking</h1>

<div class="room-info" th:if="${room}">
    <h3>Selected Room</h3>
    <p><strong>Room:</strong> <span th:text="${room.name}"></span></p>
    <p><strong>Type:</strong> <span th:text="${room.type}"></span></p>
    <p><strong>Dates:</strong>
        <span th:text="${bookingDTO.startDate}"></span> to
        <span th:text="${bookingDTO.endDate}"></span>
    </p>
</div>

<form th:action="@{/bookings/add}" method="post" th:object="${bookingDTO}">

    <input type="hidden" th:field="*{roomId}" />
    <input type="hidden" th:field="*{startDate}" />
    <input type="hidden" th:field="*{endDate}" />


    <label for="customerId">Select Customer:</label><br>
    <select th:field="*{customerId}" id="customerId" required>
        <option value="">-- Choose Customer --</option>
        <option th:each="customer : ${customers}"
                th:value="${customer.id}"
                th:text="${customer.firstName + ' ' + customer.lastName}">
        </option>
    </select>
    <span th:if="${#fields.hasErrors('customerId')}"
          th:errors="*{customerId}" class="text-danger"></span>
    <br><br>

    <button type="submit">Create Booking</button>
</form>

<br>
<a th:href="@{/rooms}">‚Üê Back to Rooms</a>
</body>
</html>